!function(t){var e={};function a(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=284)}({283:function(t,e,a){},284:function(t,e,a){"use strict";a.r(e);a(283);function n(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(){function t(e,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.target=document.querySelector(e),this.todoTasks=n(a),this.body=document.body,this.input=this.target.querySelector("[data-input]"),this.btnAdd=this.target.querySelector("[data-btn-add]"),this.modal=this.target.querySelector("[data-header-modal]")}var e,a,o;return e=t,(a=[{key:"openModal",value:function(t){this.modal.classList.add("active"),document.body.dispatchEvent(new CustomEvent("updateTaskInput",{detail:{name:t}}))}},{key:"addEvents",value:function(){var t=this;this.input.onkeypress=function(e){13===(e.charCode||e.keyCode||0)&&(e.preventDefault(),t.openModal(t.input.value))},this.btnAdd.addEventListener("click",function(){t.openModal(t.input.value)})}},{key:"onLoad",value:function(){this.addEvents()}}])&&r(e.prototype,a),o&&r(e,o),t}();function i(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function t(e,a,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.target=document.querySelector(e),this.id=a,this.name=n,this.priority=r,this.done=o,this.dueDate=i,this.taskTr=null}var e,a,n;return e=t,(a=[{key:"createTask",value:function(){var t=document.createElement("tr");t.className="todoTable__tableRow",!0===this.done&&(t.className+=" done"),t.innerHTML='\n      <th class="todoTable__cell todoTable__cell--name">'.concat(this.name,'</th>\n      <td class="todoTable__cell todoTable__cell--prio">').concat(this.priority,'</td>\n      <td class="todoTable__cell todoTable__cell--dued">').concat(this.dueDate,'</td>\n      <td class="todoTable__cell todoTable__cell--ctrl todoTable__controls" data-id=').concat(this.id,'>\n        <a class="btn btn--up" data-ctr="down">\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon icon--up"><circle cx="12" cy="12" r="10" class="primary"></circle><path class="secondary" d="M13 9.41V17a1 1 0 0 1-2 0V9.41l-2.3 2.3a1 1 0 1 1-1.4-1.42l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.42L13 9.4z"></path></svg>\n        </a>\n        <a class="btn btn--dw" data-ctr="up">\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon icon--wn"><circle cx="12" cy="12" r="10" class="primary"></circle><path class="secondary" d="M11 14.59V7a1 1 0 0 1 2 0v7.59l2.3-2.3a1 1 0 1 1 1.4 1.42l-4 4a1 1 0 0 1-1.4 0l-4-4a1 1 0 0 1 1.4-1.42l2.3 2.3z"></path></svg>\n        </a>\n        <a class="btn btn--dn" data-ctr="done">\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon icon--dn"><circle cx="12" cy="12" r="10" class="primary"></circle><path class="secondary" d="M10 14.59l6.3-6.3a1 1 0 0 1 1.4 1.42l-7 7a1 1 0 0 1-1.4 0l-3-3a1 1 0 0 1 1.4-1.42l2.3 2.3z"></path></svg>\n        </a>\n        <a class="btn btn--rm" data-ctr="remove">\n          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon icon--rm"><circle cx="12" cy="12" r="10" class="primary"></circle><path class="secondary" d="M13.41 12l2.83 2.83a1 1 0 0 1-1.41 1.41L12 13.41l-2.83 2.83a1 1 0 1 1-1.41-1.41L10.59 12 7.76 9.17a1 1 0 0 1 1.41-1.41L12 10.59l2.83-2.83a1 1 0 0 1 1.41 1.41L13.41 12z"></path></svg>\n        </a>\n      </td>\n    '),this.taskTr=t}},{key:"eventHanlder",value:function(){var t=this.taskTr.querySelectorAll("a");t.forEach(function(t){t.addEventListener("click",function(){var e,a;t.hasAttribute("data-ctr")&&(e=t.parentNode.dataset.id,a=t.dataset.ctr,document.body.dispatchEvent(new CustomEvent("taskBtnClick",{detail:{dataKey:a,index:e}})))})})}},{key:"appendTask",value:function(){this.target.appendChild(this.taskTr)}},{key:"onLoad",value:function(){this.createTask(),this.eventHanlder(),this.appendTask()}}])&&i(e.prototype,a),n&&i(e,n),t}();function l(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var d=function(){function t(e,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.target=e,this.body=document.body,this.tasks=l(a)}var e,a,n;return e=t,(a=[{key:"pushData",value:function(){document.body.dispatchEvent(new CustomEvent("newData",{detail:{data:this.tasks}}))}},{key:"addTasks",value:function(){var t=this;this.tasks.forEach(function(e,a){var n=e.name,r=e.prio,o=e.date,i=e.done;new s(t.target,a,n,r,i,o).onLoad()})}},{key:"reAddTasks",value:function(){document.querySelector(this.target).innerHTML="",this.addTasks()}},{key:"moveEntryUp",value:function(t){var e=l(this.tasks);if(t<e.length-1){var a=[e[t+1],e[t]];e[t]=a[0],e[t+1]=a[1]}else{var n=[e[0],e[t]];e[t]=n[0],e[0]=n[1]}this.tasks=e}},{key:"moveEntryDown",value:function(t){var e=l(this.tasks),a=e.length-1;if(0!==t){var n=[e[t-1],e[t]];e[t]=n[0],e[t-1]=n[1]}else{var r=[e[a],e[t]];e[t]=r[0],e[a]=r[1]}this.tasks=e}},{key:"toggleDone",value:function(t){var e=this.tasks.map(function(e,a){var n=e;return t===a&&(n.done=!n.done),n});this.tasks=e}},{key:"removeEntry",value:function(t){var e=this.tasks.filter(function(e,a){return t!==a});this.tasks=e}},{key:"eventRecivers",value:function(){var t=this;this.body.addEventListener("taskBtnClick",function(e){var a=[e.detail.dataKey,parseInt(e.detail.index,10)],n=a[0],r=a[1];"up"===n?t.moveEntryUp(r):"down"===n?t.moveEntryDown(r):"done"===n?t.toggleDone(r):"remove"===n&&t.removeEntry(r),t.pushData(t.tasks),t.reAddTasks()}),document.body.addEventListener("ReAddTasks",function(e){t.tasks=l(e.detail.data),t.reAddTasks()})}},{key:"onLoad",value:function(){this.eventRecivers(),this.addTasks()}}])&&c(e.prototype,a),n&&c(e,n),t}();function u(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var v=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.target=document.querySelector(e),this.closeBtn=this.target.querySelector("[data-close-btn]"),this.background=this.target.querySelector("[data-background]"),this.allInputs=this.target.querySelectorAll("input"),this.nameInput=this.target.querySelector("[data-name-input]"),this.prioInput=this.target.querySelector("[data-prio-input]"),this.dateInput=this.target.querySelector("[data-date-input]"),this.validationText=this.target.querySelector("[data-vali-text]")}var e,a,n;return e=t,(a=[{key:"closeModal",value:function(){this.target.classList.remove("active"),this.target.classList.remove("success"),this.target.classList.remove("error")}},{key:"pushModalInputs",value:function(){var t,e=this;document.body.dispatchEvent(new CustomEvent("pushModalTask",{detail:{name:this.nameInput.value,prio:this.prioInput.value,date:(t=e.dateInput.value.split("-"),"".concat(t[2],"/").concat(t[1],"/").concat(t[0].slice(-2)))}}))}},{key:"modalInitEvents",value:function(){var t=this;this.closeBtn.addEventListener("click",function(){t.closeModal()}),this.background.addEventListener("click",function(){t.closeModal()}),document.body.addEventListener("updateTaskInput",function(e){t.dateInput.value=(new Date).toISOString().substr(0,10),t.nameInput.value=e.detail.name})}},{key:"fromValidation",value:function(){var t=this,e=!1;this.allInputs.forEach(function(t){if("submit"!==t.type){if(!0===e)return;""===t.value&&(e=!0)}}),this.target.classList.add("modal-info"),!1===e?(this.target.classList.add("success"),this.validationText.innerText="Task was added! :)",setTimeout(function(){t.target.classList.remove("modal-info"),t.pushModalInputs(),t.closeModal()},1e3)):(this.target.classList.add("error"),this.validationText.innerText="Please fill all fields.",setTimeout(function(){t.target.classList.remove("modal-info")},2e3))}},{key:"modalFuncEvents",value:function(){var t=this;this.allInputs.forEach(function(e){var a=e;"submit"!==e.type&&a.addEventListener("keypress",function(t){13===(t.charCode||t.keyCode||0)&&t.preventDefault()}),"submit"===e.type&&a.addEventListener("click",function(e){e.preventDefault(),t.fromValidation()})})}},{key:"onLoad",value:function(){this.modalInitEvents(),this.modalFuncEvents()}}])&&u(e.prototype,a),n&&u(e,n),t}();function h(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var p=[{name:"Shave beard",prio:3,date:"01/02/19",done:!1},{name:"Buy weekly groceries",prio:2,date:"01/02/19",done:!1},{name:"Fill car w/t petrol",prio:1,date:"01/02/19",done:!0},{name:"Go for jog",prio:2,date:"02/02/19",done:!1}];(new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.taskMnaager=null,this.headerLogic=null,this.modalLogic=null,this.taskData=null}var e,a,n;return e=t,(a=[{key:"saveData",value:function(){localStorage.setItem("todoTasks",JSON.stringify(this.taskData))}},{key:"loadData",value:function(){var t=[];null!==localStorage.getItem("todoTasks")&&(t=JSON.parse(localStorage.getItem("todoTasks")),this.taskData=h(t)),0===t.length&&(this.taskData=[].concat(p),this.saveData())}},{key:"addNewEntry",value:function(t,e,a){var n=this,r={name:t,prio:e,date:a,done:!1};this.taskData.push(r),document.body.dispatchEvent(new CustomEvent("ReAddTasks",{detail:{data:n.taskData}})),this.saveData()}},{key:"dataReciver",value:function(){var t=this;document.body.addEventListener("newData",function(e){t.taskData=e.detail.data,t.saveData()}),document.body.addEventListener("pushModalTask",function(e){t.addNewEntry(e.detail.name,e.detail.prio,e.detail.date)})}},{key:"onLoad",value:function(t,e,a){this.loadData(),this.dataReciver(),this.taskMnaager=new d(e,this.taskData).onLoad(),this.header=new o(t,this.taskData).onLoad(),this.modalLogic=new v(a).onLoad()}}])&&f(e.prototype,a),n&&f(e,n),t}())).onLoad("[data-header]","[data-taskManager]","[data-header-modal]")}});